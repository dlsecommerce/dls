module.exports=[5050,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={callServer:function(){return f.callServer},createServerReference:function(){return h.createServerReference},findSourceMapURL:function(){return g.findSourceMapURL}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(20611),g=a.r(1722),h=a.r(38783)},60309,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(20005),e=a.i(46842),f=a.i(70106);let g=(0,f.default)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);var h=a.i(23312);let i=(0,f.default)("sliders-vertical",[["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M12 21v-9",key:"17s77i"}],["path",{d:"M12 8V3",key:"13r4qs"}],["path",{d:"M17 16h4",key:"h1uq16"}],["path",{d:"M19 12V3",key:"o1uvq1"}],["path",{d:"M19 21v-5",key:"qua636"}],["path",{d:"M3 14h4",key:"bcjad9"}],["path",{d:"M5 10V3",key:"cb8scm"}],["path",{d:"M5 21v-7",key:"1w1uti"}]]);var j=a.i(63588),k=a.i(74167),l=a.i(50944),m=a.i(46271),n=a.i(62036),o=a.i(83537),p=a.i(5050),q=(0,p.createServerReference)("008e46d6ecc0789df9df14cb016efdb48d8d27d20b",p.callServer,void 0,p.findSourceMapURL,"logoutAction");let r=(0,f.default)("camera",[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);var s=a.i(67453),t=a.i(28193),u=a.i(33508),v=a.i(33441),w=a.i(71987),x=a.i(91557);function y(){let{profile:a,updateProfile:d,refreshProfile:e}=(0,o.useProfile)(),[f,g]=(0,c.useState)(a?.name??""),[h,i]=(0,c.useState)(a?.avatar_url??null),[j,l]=(0,c.useState)(null),[m,n]=(0,c.useState)(!1),[p,q]=(0,c.useState)(!1),[y,z]=(0,c.useState)(!1),[A,B]=(0,c.useState)(!1),[C,D]=(0,c.useState)(!1),E=(0,c.useRef)(null);(0,c.useEffect)(()=>{a?C||(g(a.name??""),i(a.avatar_url??null)):e()},[a]);let F=f?.trim()!==""?f.split(" ").filter(Boolean).map(a=>a[0]?.toUpperCase()).join(""):"?",G=(0,c.useCallback)(a=>{let b=a.target.files?.[0];b&&(l(URL.createObjectURL(b)),z(!0))},[]),H=(0,c.useCallback)(async()=>{if(!j||!a||!E.current?.files?.[0])return;let b=E.current.files[0];n(!0);try{let c=b.name.split(".").pop(),e=`${a.id}.${c}`,f=`avatars/${e}`,{error:g}=await k.supabase.storage.from("avatars").upload(f,b,{upsert:!0});if(g)throw g;let{data:h}=k.supabase.storage.from("avatars").getPublicUrl(f),j=h?.publicUrl;if(!j)throw Error("Falha ao obter URL pública do avatar.");await d({avatar_url:j}),i(j),B(!0),setTimeout(()=>B(!1),3e3)}catch(a){console.error("Erro ao enviar avatar:",a.message)}finally{n(!1),z(!1),l(null),E.current&&(E.current.value="")}},[j,a,d]),I=async b=>{if(b.preventDefault(),a){q(!0);try{await d({name:f}),B(!0),setTimeout(()=>B(!1),3e3),D(!1)}catch(a){console.error("Erro ao salvar perfil:",a.message)}finally{q(!1)}}};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("form",{onSubmit:I,className:"space-y-8",children:[(0,b.jsx)(x.GlassmorphicCard,{className:"p-6 space-y-6",children:(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-6",children:[(0,b.jsxs)("div",{className:"relative group",children:[(0,b.jsxs)("div",{className:"w-24 h-24 rounded-full bg-gradient-to-br from-primary to-pink-600 flex items-center justify-center overflow-hidden",children:[h?(0,b.jsx)(w.default,{src:h,alt:"Avatar",width:96,height:96,className:"w-24 h-24 object-cover rounded-full",unoptimized:!0,onError:()=>i(null)}):(0,b.jsx)("span",{className:"text-white text-[28px] font-normal",children:F}),m&&(0,b.jsx)("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center",children:(0,b.jsx)(t.Loader,{className:"w-6 h-6 text-white animate-spin"})})]}),!m&&(0,b.jsx)("button",{type:"button",onClick:()=>E.current?.click(),className:"absolute inset-0 w-24 h-24 rounded-full bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer","aria-label":"Alterar avatar",children:(0,b.jsx)(r,{className:"w-6 h-6 text-white"})}),(0,b.jsx)("input",{type:"file",accept:"image/*",ref:E,onChange:G,className:"hidden"})]}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:"text-foreground text-[20px] font-normal",children:f}),(0,b.jsx)("p",{className:"text-muted-foreground text-[14px]",children:a?.email})]})]})}),(0,b.jsxs)(x.GlassmorphicCard,{className:"p-6 space-y-6",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-[14px] font-medium text-foreground",children:"Nome"}),(0,b.jsx)("input",{className:"flex w-full rounded-lg border border-white/10 bg-[#1a1a1a] px-4 py-2 text-[14px] text-foreground focus:outline-none focus:ring-2 focus:ring-[#2699fe]",value:f,onChange:a=>{D(!0),g(a.target.value)}})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-[14px] font-medium text-foreground",children:"E-mail"}),(0,b.jsx)("input",{type:"email",value:a?.email??"",disabled:!0,className:"flex w-full rounded-lg border border-white/10 bg-[#1a1a1a] px-4 py-2 text-[14px] text-neutral-400 cursor-not-allowed"})]})]}),(0,b.jsx)("div",{className:"flex justify-end pt-2",children:(0,b.jsx)("button",{type:"submit",disabled:p,className:"rounded-md bg-[#2699fe] text-white px-6 py-2 text-sm font-medium transition-colors cursor-pointer hover:bg-[#1a86e4] disabled:opacity-60",children:p?(0,b.jsx)("span",{className:"flex items-center gap-2",children:(0,b.jsx)(t.Loader,{className:"w-4 h-4 animate-spin"})}):"Salvar alterações"})})]}),y&&j&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50",children:(0,b.jsxs)(x.GlassmorphicCard,{className:"w-[320px] p-6 text-center",children:[(0,b.jsx)("h2",{className:"text-white text-lg mb-4",children:"Pré-visualização do avatar"}),(0,b.jsx)(w.default,{src:j,alt:"Prévia",width:150,height:150,className:"rounded-full object-cover mx-auto mb-4"}),(0,b.jsxs)("div",{className:"flex justify-center gap-3",children:[(0,b.jsxs)("button",{onClick:()=>{j&&URL.revokeObjectURL(j),l(null),z(!1),E.current&&(E.current.value="")},className:"flex items-center gap-2 bg-neutral-700 hover:bg-neutral-600 text-white px-4 py-2 rounded-md text-sm",children:[(0,b.jsx)(u.X,{className:"w-4 h-4"})," Cancelar"]}),(0,b.jsx)("button",{onClick:H,disabled:m,className:"flex items-center gap-2 bg-[#2699fe] hover:bg-[#1a86e4] text-white px-4 py-2 rounded-md text-sm disabled:opacity-60",children:m?(0,b.jsx)(t.Loader,{className:"w-4 h-4 animate-spin"}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(v.Check,{className:"w-4 h-4"})," Salvar"]})})]})]})}),A&&(0,b.jsxs)("div",{className:"fixed bottom-6 right-6 bg-[#111111]/90 border border-white/10 rounded-lg shadow-lg px-4 py-3 text-sm text-white flex items-center gap-2 animate-fadeIn",children:[(0,b.jsx)(s.CheckCircle2,{className:"w-5 h-5 text-green-400"}),"Perfil atualizado com sucesso!"]})]})}let z=(0,f.default)("key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]),A=(0,f.default)("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);var B=a.i(77156),C=a.i(41379);function D({showPasswordForm:a,setShowPasswordForm:c,newPassword:d,setNewPassword:e,confirmPassword:f,setConfirmPassword:h,showNewPassword:i,setShowNewPassword:j,showConfirmPassword:k,setShowConfirmPassword:l,onChangePassword:m}){return(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsx)("h3",{className:"text-[20px] font-normal mb-6",children:"Segurança"}),(0,b.jsxs)(x.GlassmorphicCard,{className:"p-6 space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(g,{className:"w-5 h-5 text-muted-foreground"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-[16px] font-medium text-foreground",children:"Segurança da conta"}),(0,b.jsx)("p",{className:"text-[12px] text-muted-foreground mt-1",children:"Gerencie as configurações de segurança da sua conta"})]})]}),(0,b.jsxs)("div",{className:"space-y-4 ps-0 sm:ps-8",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between py-4 border-b border-white/10",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 rounded-lg bg-[#1a1a1a] text-muted-foreground",children:(0,b.jsx)(z,{className:"w-5 h-5"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-[14px] font-normal text-foreground",children:"Alterar a senha"}),(0,b.jsx)("p",{className:"text-[12px] text-muted-foreground",children:"Atualize sua senha regularmente para segurança"})]})]}),(0,b.jsx)("button",{onClick:()=>c(!a),className:"inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all border border-white/10 bg-[#1a1a1a] text-foreground shadow-sm hover:bg-white/5 h-8 rounded-md gap-1.5 px-3 cursor-pointer",children:a?"Cancelar":"Mudar"})]}),a&&(0,b.jsxs)("form",{onSubmit:m,className:"space-y-4 pt-4 ps-0 sm:ps-8",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"Nova senha"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("input",{type:i?"text":"password",value:d,onChange:a=>e(a.target.value),className:"w-full rounded-lg border border-white/10 bg-[#1a1a1a] px-4 py-2 text-sm pe-10 text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-primary transition",placeholder:"Digite sua nova senha"}),(0,b.jsx)("button",{type:"button",onClick:()=>j(!i),className:"absolute inset-y-0 right-0 flex items-center pr-3 text-muted-foreground hover:text-foreground cursor-pointer",children:i?(0,b.jsx)(C.EyeOff,{className:"w-4 h-4"}):(0,b.jsx)(B.Eye,{className:"w-4 h-4"})})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"Confirmar senha"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("input",{type:k?"text":"password",value:f,onChange:a=>h(a.target.value),className:"w-full rounded-lg border border-white/10 bg-[#1a1a1a] px-4 py-2 text-sm pe-10 text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-primary transition",placeholder:"Confirme sua nova senha"}),(0,b.jsx)("button",{type:"button",onClick:()=>l(!k),className:"absolute inset-y-0 right-0 flex items-center pr-3 text-muted-foreground hover:text-foreground cursor-pointer",children:k?(0,b.jsx)(C.EyeOff,{className:"w-4 h-4"}):(0,b.jsx)(B.Eye,{className:"w-4 h-4"})})]})]}),(0,b.jsx)("div",{className:"text-right",children:(0,b.jsx)("button",{type:"submit",className:"bg-primary text-white px-5 py-2 rounded-md text-sm font-medium hover:bg-primary/90 transition cursor-pointer",children:"Alterar senha"})})]})]})]}),(0,b.jsx)(x.GlassmorphicCard,{className:"p-6",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(A,{className:"w-5 h-5 text-muted-foreground"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-[14px] font-normal text-foreground",children:"Histórico de login"}),(0,b.jsx)("p",{className:"text-[12px] text-muted-foreground",children:"Veja suas atividades recentes"})]})]}),(0,b.jsx)("button",{className:"border border-white/10 bg-[#1a1a1a] px-3 py-1 rounded-md text-sm hover:bg-white/5 transition cursor-pointer",children:"Ver"})]})})]})}let E=(0,f.default)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]),F=(0,f.default)("smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);function G(){return(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsx)("h3",{className:"text-[20px] font-normal",children:"Notificações"}),(0,b.jsxs)(x.GlassmorphicCard,{className:"p-6 space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(h.Bell,{className:"w-5 h-5 text-muted-foreground"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-[16px] font-medium text-foreground",children:"Preferências de comunicação"}),(0,b.jsx)("p",{className:"text-[12px] text-muted-foreground mt-1",children:"Controle como você recebe notificações"})]})]}),(0,b.jsxs)("div",{className:"space-y-4 ps-1",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between py-4 border-b border-white/10",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(E,{className:"w-5 h-5 text-muted-foreground"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-[14px] font-normal text-foreground",children:"Alertas por e-mail"}),(0,b.jsx)("p",{className:"text-[12px] text-muted-foreground",children:"Receba alertas de transações por e-mail"})]})]}),(0,b.jsx)("button",{className:"relative w-12 h-6 rounded-full transition-colors bg-primary cursor-pointer",children:(0,b.jsx)("div",{className:"absolute top-1 w-4 h-4 bg-white rounded-full shadow-sm ms-6"})})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between py-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(F,{className:"w-5 h-5 text-muted-foreground"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-[14px] font-normal text-foreground",children:"Notificações push"}),(0,b.jsx)("p",{className:"text-[12px] text-muted-foreground",children:"Receba atualizações instantâneas no seu dispositivo"})]})]}),(0,b.jsx)("button",{className:"relative w-12 h-6 rounded-full transition-colors bg-primary cursor-pointer",children:(0,b.jsx)("div",{className:"absolute top-1 w-4 h-4 bg-white rounded-full shadow-sm ms-6"})})]})]})]})]})}var H=a.i(44494),I=a.i(21161),J=a.i(70880);function K(){return(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsx)("h3",{className:"text-[20px] font-normal",children:"Preferências"}),(0,b.jsxs)(x.GlassmorphicCard,{className:"p-6 space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(H.Globe,{className:"w-5 h-5 text-muted-foreground"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-[16px] font-medium text-foreground",children:"Idioma e Região"}),(0,b.jsx)("p",{className:"text-[12px] text-muted-foreground mt-1",children:"Configurações regionais e de idioma"})]})]}),(0,b.jsx)("div",{className:"space-y-4 ps-1",children:(0,b.jsxs)("div",{className:"flex items-center justify-between py-4 border-b border-white/10",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(H.Globe,{className:"w-5 h-5 text-muted-foreground"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-[14px] font-normal text-foreground",children:"Linguagem"}),(0,b.jsx)("p",{className:"text-[12px] text-muted-foreground",children:"Escolha seu idioma preferido"})]})]}),(0,b.jsxs)("select",{className:"border border-white/10 rounded-md px-3 py-1 text-sm bg-[#1a1a1a] text-white focus:outline-none cursor-pointer hover:border-[#2799fe] transition",children:[(0,b.jsx)("option",{children:"Português"}),(0,b.jsx)("option",{children:"Inglês"})]})]})})]}),(0,b.jsxs)(x.GlassmorphicCard,{className:"p-6 space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(I.Settings,{className:"w-5 h-5 text-muted-foreground"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-[16px] font-medium text-foreground",children:"Preferências de exibição"}),(0,b.jsx)("p",{className:"text-[12px] text-muted-foreground mt-1",children:"Personalize sua interface"})]})]}),(0,b.jsxs)("div",{className:"space-y-4 ps-1",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between py-4 border-b border-white/10",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(J.Moon,{className:"w-5 h-5 text-muted-foreground"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-[14px] font-normal text-foreground",children:"Modo escuro"}),(0,b.jsx)("p",{className:"text-[12px] text-muted-foreground",children:"Usar tema escuro"})]})]}),(0,b.jsx)("button",{className:"relative w-12 h-6 rounded-full transition-colors bg-primary cursor-pointer",children:(0,b.jsx)("div",{className:"absolute top-1 w-4 h-4 bg-white rounded-full shadow-sm ms-6"})})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between py-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(I.Settings,{className:"w-5 h-5 text-muted-foreground"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-[14px] font-normal text-foreground",children:"Salvamento automático"}),(0,b.jsx)("p",{className:"text-[12px] text-muted-foreground",children:"Salve seu trabalho automaticamente"})]})]}),(0,b.jsx)("button",{className:"relative w-12 h-6 rounded-full transition-colors bg-primary cursor-pointer",children:(0,b.jsx)("div",{className:"absolute top-1 w-4 h-4 bg-white rounded-full shadow-sm ms-6"})})]})]})]})]})}let L=(0,f.default)("thumbs-up",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]),M=(0,f.default)("thumbs-down",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]]);var N=a.i(92759);function O(){let{profile:a}=(0,o.useProfile)(),[d,e]=(0,c.useState)([]),[f,g]=(0,c.useState)(""),[h,i]=(0,c.useState)("sugestão"),[l,n]=(0,c.useState)(!1),[p,q]=(0,c.useState)("todas"),[r,s]=(0,c.useState)({});async function t(){let{data:a,error:b}=await k.supabase.from("feedbacks").select("*").order("created_at",{ascending:!1});!b&&a&&e(a)}async function u(){if(!f.trim())return alert("Digite um feedback antes de enviar.");n(!0);let{error:b}=await k.supabase.from("feedbacks").insert([{user_id:a?.id,nome:a?.name||"Usuário",tipo:h,mensagem:f.trim()}]);n(!1),b?alert("Erro ao enviar feedback: "+b.message):(g(""),i("sugestão"))}async function v(b,c){if(!a?.id)return alert("Você precisa estar logado para votar.");if(r[b]===c)return;let{data:d}=await k.supabase.from("feedback_votes").select("*").eq("feedback_id",b).eq("user_id",a.id).maybeSingle();d?await k.supabase.from("feedback_votes").update({voto:c}).eq("id",d.id):await k.supabase.from("feedback_votes").insert([{feedback_id:b,user_id:a.id,voto:c}]),await k.supabase.rpc("update_feedback_votes",{feedback_id_param:b}),s(a=>({...a,[b]:c}))}(0,c.useEffect)(()=>{t();let a=k.supabase.channel("feedbacks-realtime").on("postgres_changes",{event:"*",schema:"public",table:"feedbacks"},a=>{"INSERT"===a.eventType?e(b=>[a.new,...b]):"UPDATE"===a.eventType?e(b=>b.map(b=>b.id===a.new.id?a.new:b)):"DELETE"===a.eventType&&e(b=>b.filter(b=>b.id!==a.old.id))}).subscribe();return()=>{k.supabase.removeChannel(a)}},[]);let w="todas"===p?d:d.filter(a=>a.tipo===p);return(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsx)("h3",{className:"text-[20px] font-normal",children:"Feedbacks"}),(0,b.jsxs)(x.GlassmorphicCard,{className:"p-6 space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(j.MessageSquare,{className:"w-5 h-5 text-muted-foreground"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-[16px] font-medium text-foreground",children:"Central de Feedbacks"}),(0,b.jsx)("p",{className:"text-[12px] text-muted-foreground mt-1",children:"Envie ideias, reporte erros e vote nas sugestões da comunidade"})]})]}),(0,b.jsx)("div",{className:"space-y-4 ps-1",children:(0,b.jsxs)("div",{className:"flex flex-col md:flex-row gap-3",children:[(0,b.jsxs)("select",{value:h,onChange:a=>i(a.target.value),className:"bg-[#1a1a1a] border border-neutral-700 rounded-md px-3 py-2 text-sm text-gray-300 focus:outline-none",children:[(0,b.jsx)("option",{value:"sugestão",children:"Sugestão"}),(0,b.jsx)("option",{value:"erro",children:"Erro"}),(0,b.jsx)("option",{value:"ideia",children:"Ideia"})]}),(0,b.jsx)("input",{type:"text",value:f,onChange:a=>g(a.target.value),placeholder:"Digite seu feedback...",className:"flex-1 bg-[#1a1a1a] border border-neutral-700 rounded-md px-3 py-2 text-sm text-gray-300 focus:outline-none"}),(0,b.jsxs)("button",{onClick:u,disabled:l,className:"flex items-center justify-center gap-2 bg-[#2699fe] hover:bg-[#2699fe]/90 px-4 py-2 rounded-md text-sm font-medium transition",children:[(0,b.jsx)(N.Send,{className:"w-4 h-4"}),l?"Enviando...":"Enviar"]})]})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm text-muted-foreground mb-1",children:"Filtro"}),(0,b.jsxs)("select",{value:p,onChange:a=>q(a.target.value),className:"w-full bg-[#1a1a1a] border border-neutral-700 rounded-md px-3 py-2 text-sm text-gray-300 focus:outline-none",children:[(0,b.jsx)("option",{value:"todas",children:"Todas"}),(0,b.jsx)("option",{value:"sugestão",children:"Sugestões"}),(0,b.jsx)("option",{value:"erro",children:"Erros"}),(0,b.jsx)("option",{value:"ideia",children:"Ideias"})]})]}),(0,b.jsx)("div",{className:"space-y-4",children:0===w.length?(0,b.jsx)("p",{className:"text-muted-foreground text-sm",children:"Nenhum feedback encontrado."}):w.map(a=>(0,b.jsxs)(m.motion.div,{className:"bg-[#1a1a1a] border border-neutral-700 rounded-lg p-4",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("h4",{className:"text-[14px] font-medium",children:a.nome}),(0,b.jsx)("span",{className:`text-xs px-2 py-1 rounded-md capitalize ${"erro"===a.tipo?"bg-red-100 text-red-700":"ideia"===a.tipo?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:a.tipo})]}),(0,b.jsx)("p",{className:"text-[13px] text-gray-300 mb-3",children:a.mensagem}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:new Date(a.created_at).toLocaleString("pt-BR")}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)("button",{onClick:()=>v(a.id,"up"),className:`flex items-center gap-1 transition ${"up"===r[a.id]?"text-[#2699fe]":"text-gray-400 hover:text-white"}`,children:[(0,b.jsx)(L,{className:"w-4 h-4"}),(0,b.jsx)("span",{className:"text-xs",children:a.upvotes})]}),(0,b.jsxs)("button",{onClick:()=>v(a.id,"down"),className:`flex items-center gap-1 transition ${"down"===r[a.id]?"text-red-500":"text-gray-400 hover:text-white"}`,children:[(0,b.jsx)(M,{className:"w-4 h-4"}),(0,b.jsx)("span",{className:"text-xs",children:a.downvotes})]})]})]})]},a.id))})]})]})}function P(){let{profile:a,updateProfile:f}=(0,o.useProfile)(),[p,r]=(0,c.useState)("perfil"),[s,t]=(0,c.useState)(a?.name??""),[u,v]=(0,c.useState)(a?.email??""),[w,z]=(0,c.useState)(a?.avatar_url??null),[A,B]=(0,c.useState)(null),[C,E]=(0,c.useState)(""),[F,H]=(0,c.useState)(""),[I,J]=(0,c.useState)(!1),[L,M]=(0,c.useState)(!1),[N,P]=(0,c.useState)(!1);(0,c.useRef)(null);let Q=(0,l.useRouter)();(0,c.useEffect)(()=>{a&&(t(a.name??""),v(a.email??""),z(a.avatar_url??null))},[a]);let R=async a=>{if(a.preventDefault(),C!==F)return void alert("As senhas não coincidem!");if(C.length<6)return void alert("A senha deve ter pelo menos 6 caracteres.");let{error:b}=await k.supabase.auth.updateUser({password:C});b?alert("Erro ao alterar senha: "+b.message):(alert("Senha alterada com sucesso!"),E(""),H(""),J(!1))},S=async()=>{await q()},T=[{id:"perfil",label:"Perfil",icon:e.User},{id:"seguranca",label:"Segurança",icon:g},{id:"notificacoes",label:"Notificações",icon:h.Bell},{id:"preferencias",label:"Preferências",icon:i},{id:"feedbacks",label:"Feedbacks",icon:j.MessageSquare}];return(0,b.jsx)("div",{className:"min-h-[100dvh] w-full text-white",children:(0,b.jsx)("div",{className:"w-full p-6 lg:p-8 mt-6",children:(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[(0,b.jsxs)(x.GlassmorphicCard,{className:"lg:col-span-1 p-6",children:[(0,b.jsx)("nav",{className:"space-y-2",children:T.map(({id:a,label:c,icon:d})=>(0,b.jsxs)("button",{className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${p===a?"bg-[#2699fe]/10 text-[#2699fe] border-l-2 border-[#2699fe]":"text-neutral-400 hover:bg-white/5"}`,onClick:()=>{r(a),Q.push(`/dashboard/configuracao?tab=${a}`,{scroll:!1})},children:[(0,b.jsx)(d,{className:"w-4 h-4"}),(0,b.jsx)("span",{className:"text-[14px]",children:c})]},a))}),(0,b.jsx)("div",{className:"mt-8 pt-8 border-t border-white/10 space-y-2",children:(0,b.jsxs)("button",{className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg text-red-400 hover:bg-red-500/10 transition-all",onClick:S,children:[(0,b.jsx)(d.LogOut,{className:"w-4 h-4"}),(0,b.jsx)("span",{className:"text-[14px]",children:"Sair"})]})})]}),(0,b.jsx)(x.GlassmorphicCard,{className:"lg:col-span-3 p-6",children:(0,b.jsxs)(n.AnimatePresence,{mode:"wait",children:["perfil"===p&&(0,b.jsx)(m.motion.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},exit:{opacity:0,x:-30},transition:{duration:.3},children:(0,b.jsx)(y,{})},"perfil"),"seguranca"===p&&(0,b.jsx)(m.motion.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},exit:{opacity:0,x:-30},transition:{duration:.3},children:(0,b.jsx)(D,{showPasswordForm:I,setShowPasswordForm:J,newPassword:C,setNewPassword:E,confirmPassword:F,setConfirmPassword:H,showNewPassword:L,setShowNewPassword:M,showConfirmPassword:N,setShowConfirmPassword:P,onChangePassword:R})},"seguranca"),"notificacoes"===p&&(0,b.jsx)(m.motion.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},exit:{opacity:0,x:-30},transition:{duration:.3},children:(0,b.jsx)(G,{})},"notificacoes"),"preferencias"===p&&(0,b.jsx)(m.motion.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},exit:{opacity:0,x:-30},transition:{duration:.3},children:(0,b.jsx)(K,{})},"preferencias"),"feedbacks"===p&&(0,b.jsx)(m.motion.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},exit:{opacity:0,x:-30},transition:{duration:.3},children:(0,b.jsx)(O,{})},"feedbacks")]})})]})})})}function Q(){return(0,b.jsx)(P,{})}a.s(["default",()=>Q],60309)}];

//# sourceMappingURL=_270f8c85._.js.map